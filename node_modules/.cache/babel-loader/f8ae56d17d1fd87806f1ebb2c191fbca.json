{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\sebon\\\\\\uC18C\\uC218\\uC804\\uACF5\\\\project\\\\book\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport Search from './Search';\nimport Setcontent from './Setcontent';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: null,\n      bookInfo: null,\n      authors: null,\n      content: null,\n      price: null,\n      publisher: null,\n      status: null,\n      title: null,\n      thumbnail: null\n    };\n\n    this._getQueryValue = async value => {\n      await this.setState({\n        query: value\n      });\n\n      this._getBooks();\n    };\n\n    this._getBooks = async () => {\n      const bookInfo = await this._callApi();\n\n      if (this.state.status === \"- 구매 가능 여부 : \") {\n        this.setState({\n          status: \"- 구매 가능 여부 : 품절\"\n        });\n      }\n    };\n\n    this._callApi = () => {\n      let headers = {\n        Authorization: 'KakaoAK ' + '227c557d727e7912353d9bcb15d9f333'\n      };\n      const _init = {\n        method: 'get',\n        headers: headers\n      };\n      fetch(`https://dapi.kakao.com/v3/search/book?query=${this.state.query}`, _init).then(response => response.json()).then(json => this.setState({\n        title: \"- 책 제목 : \" + json.documents[0].title,\n        authors: \"- 저자 : \" + json.documents[0].authors[0],\n        price: \"- 판매가 : \" + json.documents[0].price,\n        publisher: \"- 출판 : \" + json.documents[0].publisher,\n        status: \"- 구매 가능 여부 : \" + json.documents[0].status,\n        content: \"- 책 소개 : \" + json.documents[0].contents + \" ...중략\",\n        thumbnail: json.documents[0].thumbnail\n      }));\n      return fetch(`https://dapi.kakao.com/v3/search/book?query=${this.state.query}`, {\n        headers\n      }).then(res => res.json).then(json => json.documents).catch(err => console.log(err));\n    };\n  }\n\n  componentDidMount() {}\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        books: this._callApi,\n        query: this._getQueryValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Setcontent, {\n        title: this.state.title,\n        authors: this.state.authors,\n        contents: this.state.content,\n        price: this.state.price,\n        publisher: this.state.publisher,\n        status: this.state.status,\n        thumbnail: this.state.thumbnail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/sebon/소수전공/project/book/src/App.js"],"names":["React","Component","Search","Setcontent","App","state","query","bookInfo","authors","content","price","publisher","status","title","thumbnail","_getQueryValue","value","setState","_getBooks","_callApi","headers","Authorization","_init","method","fetch","then","response","json","documents","contents","res","catch","err","console","log","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Search from './Search'\nimport Setcontent from './Setcontent'\nclass App extends Component {\n\n  state = {\n    query: null,\n    bookInfo: null,\n    authors: null,\n    content: null,\n    price: null,\n    publisher: null,\n    status: null,\n    title: null,\n    thumbnail: null,\n  };\n  \n  componentDidMount() {}\n\n  _getQueryValue = async value => {\n    await this.setState({ query: value });\n    this._getBooks();\n  };\n\n  _getBooks = async () => {\n    const bookInfo = await this._callApi();\n\n    if(this.state.status === \"- 구매 가능 여부 : \"){\n      this.setState({status: \"- 구매 가능 여부 : 품절\"});\n    }\n  };\n\n  _callApi = () => {\n\n    let headers = { Authorization: 'KakaoAK '+ '227c557d727e7912353d9bcb15d9f333'}\n\n    const _init = {\n      method: 'get',\n      headers: headers,\n    };\n    fetch(`https://dapi.kakao.com/v3/search/book?query=${this.state.query}`, _init)\n    .then(response => response.json())\n    .then(json => this.setState({\n      title: \"- 책 제목 : \"+json.documents[0].title,\n      authors: \"- 저자 : \"+json.documents[0].authors[0],\n      price: \"- 판매가 : \"+json.documents[0].price,\n      publisher: \"- 출판 : \"+json.documents[0].publisher,\n      status: \"- 구매 가능 여부 : \"+json.documents[0].status,\n      content: \"- 책 소개 : \"+json.documents[0].contents+\" ...중략\",\n      thumbnail: json.documents[0].thumbnail,\n    })\n    );\n\n    return fetch(`https://dapi.kakao.com/v3/search/book?query=${this.state.query}`, { headers })\n    .then(res => res.json)\n    .then(json => json.documents)\n    .catch(err => console.log(err))\n  };\n  render() {\n    return (\n      <div className=\"App\">\n        <Search books={this._callApi} query={this._getQueryValue}/>\n        <Setcontent \n        title={this.state.title} \n        authors={this.state.authors} \n        contents={this.state.content}\n        price={this.state.price}\n        publisher={this.state.publisher}\n        status={this.state.status}\n        thumbnail={this.state.thumbnail} />\n      </div>\n\n    )\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}